<html>
    <head>
    
    <style>
        
        #link {
            text-decoration: none;
            color: black;
        }
    
    </style>
    
<head>

    <body>
                
        <button onclick="createRepo()" id="createRepo">createRepo</button>
        <button onclick="deleteRepo()" id="deleteRepo">deleteRepo</button><br><br>

    <script>
        
        let githubToken = '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';
        
        async function createRepo() {
            let repo = prompt('Enter the name of repo you want to create')
            if(!repo) return;

            let repoData = {
                name: repo,
                description: 'another test repo by http',
            }

            let response = await fetch('https://api.github.com/user/repos', {
                method: 'POST',
                headers: {
                    'Authorization': `token ${githubToken}`,
                    'Accept': 'application/vnd.github.v3+json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(repoData)
            });
            
            if(response.ok) {
                let obj = await response.json();
                console.log(obj);

                console.log(JSON.stringify(obj))
            } else {
                console.log(response.status)
            }

        }
        
        async function deleteRepo() {
            let repo = prompt('enter the name of repo you want to delete')
            if(!repo) return;

            let response = await fetch(`https://api.github.com/repos/shuburana/${repo}`, {
                method: 'DELETE',
                headers: {
                    'Authorization': `token ${githubToken}`
                }
            });

            if(response.ok) {
                // let obj = await response.json();
                console.log(response);
            } else {
                console.log(response.status)
            }
        }
    
        
    </script>
    
    <style>
    
    </style>    
    
</body>

</html>