<html>
    <head>
    
    <style>
        
        #link {
            text-decoration: none;
            color: black;
        }
    
    </style>
    
<head>

    <body>
        
        <input onchange="loadContent(this)" type="file">

        <p id="demo"></p>
        
        <button onclick="createRepo()" id="createRepo">createRepo</button>
        <button onclick="deleteRepo()" id="deleteRepo">deleteRepo</button><br><br>

        <canvas id="myElement" width="200" height="200"></canvas><br><br>
    <script>
        
        let githubToken = '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';
        
        async function createRepo() {
            let repo = prompt('Enter the name of repo you want to create')
            if(!repo) return;

            let repoData = {
                name: repo,
                description: 'another test repo by http',
            }

            let response = await fetch('https://api.github.com/user/repos', {
                method: 'POST',
                headers: {
                    'Authorization': `token ${githubToken}`,
                    'Accept': 'application/vnd.github.v3+json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(repoData)
            });
            
            if(response.ok) {
                let obj = await response.json();
                console.log(obj);

                console.log(JSON.stringify(obj))
            } else {
                console.log(response.status)
            }

        }
        
        async function deleteRepo() {
            let repo = prompt('enter the name of repo you want to delete')
            if(!repo) return;

            let response = await fetch(`https://api.github.com/repos/shuburana/${repo}`, {
                method: 'DELETE',
                headers: {
                    'Authorization': `token ${githubToken}`
                }
            });

            if(response.ok) {
                // let obj = await response.json();
                console.log(response);
            } else {
                console.log(response.status)
            }
        }
    
        let canvas = document.createElement('canvas');
        canvas.id = 'myCanvas';
        canvas.width = 250;
        canvas.height = 250;
        document.body.append(canvas)
        
    </script>
    
    <style>
        
        #myElement, #myCanvas {
            border: 1px solid black;
        }

    </style>    
    
</body>

</html>