<html>
    <head>
    
    <style>
        

    
    </style>
    
<head>

    <body>
        
        <input onchange="loadContent(this)" type="file">

    <script>

        function loadContent(input) {
            let file = input.files[0];

            let reader = new FileReader();
            
            let done = false;

            reader.onload = function() {
                console.log(this.result);
                done = true;
            }    

            reader.readAsArrayBuffer(file);
            
            let arr = [reader.readAsText, reader.readAsDataURL];
            
            // let index = 0;
            // let timer = setInterval(() => {
            //     if(done) {
            //         arr[index](file);
            //         index++;
            //         done = false;
                    
            //         if(index == arr.length) clearInterval(timer);
            //     }

            // }, 1000)
            
            // reader.readAsText(file);
            // reader.readAsDataURL(file);

            // file.arrayBuffer().then(buffer => {
            //     let view = new Uint8Array(buffer);
            //     let text = new TextDecoder().decode(view)
            //     console.log(text)
            // })

        }        
        // let blob = new Blob([new Uint8Array([65, 66, 67, 68]), ' hello, world'], {type: 'text/plain'});

        // blob.arrayBuffer().then(buffer => {
        //     let view8 = new Uint8Array(buffer);
        //     console.log(view8)
        //     let text = new TextDecoder().decode(view8);
        //     console.log(text);
        // })

        // let reader = new FileReader();

        // reader.onload = function(e) {
        //     console.log(reader.result)
        // }

        // reader.readAsDataURL(blob);
        
    </script>
    
    <style>

    </style>    
    
</body>

</html>