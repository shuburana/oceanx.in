<html>
    <head>
    
    <style>
        

    
    </style>
    
<head>

    <body>
        
        <input onchange="loadContent(this)" type="file">

    <script>

        // ** The concept this code is trying to empasize is that we're not goint inside
        // of event handler on 28 but instead we are calling only one hander again and again
        // for avoiding nested call and we're checking in every 1 second whether the 
        // handler executed or not. If yes then we proceed to next request **

        function loadContent(input) {
            let file = input.files[0];

            let reader = new FileReader();
            
            let done = false;

            // **
            reader.onload = function() {
                console.log(this.result);
                done = true;
            }    

            reader.readAsArrayBuffer(file);

            let arr = ['readAsText', 'readAsDataURL'];

            let index = 0;

            // **
            let timer = setInterval(() => {
                if(done) {
                    reader[arr[index]](file);
                    index++;
                    done = false;
                    
                    if(index == arr.length) clearInterval(timer);
                }

            }, 1000)
            
        }        
        
    </script>
    
    <style>

    </style>    
    
</body>

</html>